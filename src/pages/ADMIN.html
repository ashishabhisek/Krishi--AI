<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - KrishiAI</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../styles/admin.css">
</head>
<body>
    
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-seedling"></i>
                <span>KrishiAI</span>
            </div>
            
            <div class="nav-menu" id="nav-menu">
                <a href="HOME.html" class="nav-link" data-translate="navHome">Home</a>
                <a href="QUERY.html" class="nav-link" data-translate="navQuery">Query</a>
                <a href="KNOW-LIB.html" class="nav-link" data-translate="navKnowledge">Knowledge Library</a>
                <a href="NOTIFICATION.html" class="nav-link" data-translate="navNotifications">Notifications</a>
                <a href="MARKETPLACE.html" class="nav-link" data-translate="navMarketplace">Marketplace</a>
                <a href="ADMIN.html" class="nav-link admin-only" id="dashboard-link" style="display: none;" data-translate="navDashboard">Dashboard</a>
                <a href="ABOUT.html" class="nav-link" data-translate="navAbout">About</a>
            </div>

            <div class="nav-controls">
                <!-- Language Selector -->
                <div class="language-selector">
                    <button class="lang-btn" id="lang-btn">
                        <span id="selected-lang">English</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="lang-dropdown" id="lang-dropdown">
                        <a href="#" data-lang="English" data-code="en">English</a>
                        <a href="#" data-lang="हिन्दी" data-code="hi">हिन्दी</a>
                        <a href="#" data-lang="മലയാളം" data-code="ml">മലയാളം</a>
                    </div>
                </div>

                <!-- Login Button -->
                <a href="LOGIN.html" class="login-btn" id="login-btn">
                    <i class="fas fa-user"></i>
                    <span data-translate="login">Login</span>
                </a>

                <!-- Mobile Menu Toggle -->
                <div class="hamburger" id="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Dashboard Container -->
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h3>Admin Panel</h3>
                <button class="sidebar-toggle" id="sidebar-toggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            <nav class="sidebar-nav">
                <a href="#overview" class="sidebar-link active" data-section="overview">
                    <i class="fas fa-chart-bar"></i>
                    <span>Overview</span>
                </a>
                <a href="#queries" class="sidebar-link" data-section="queries">
                    <i class="fas fa-question-circle"></i>
                    <span>Queries</span>
                </a>
                <a href="#alerts" class="sidebar-link" data-section="alerts">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>Alerts</span>
                </a>
                <a href="#content" class="sidebar-link" data-section="content">
                    <i class="fas fa-book"></i>
                    <span>Content</span>
                </a>
                <a href="#users" class="sidebar-link" data-section="users">
                    <i class="fas fa-users"></i>
                    <span>Users</span>
                </a>
                <a href="#feedback" class="sidebar-link" data-section="feedback">
                    <i class="fas fa-star"></i>
                    <span>Feedback</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="content-header">
                <h1>Admin Dashboard</h1>
                <p>Monitor and manage the KrishiAI platform</p>
            </div>

            <!-- Stats Overview Section -->
            <section id="overview" class="dashboard-section active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3>12,847</h3>
                            <p>Total Registered Farmers</p>
                            <span class="stat-change positive">+12% this month</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-question-circle"></i>
                        </div>
                        <div class="stat-content">
                            <h3>8,923</h3>
                            <p>Total Queries Asked</p>
                            <span class="stat-change positive">+8% this week</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-content">
                            <h3>142</h3>
                            <p>Escalated Queries</p>
                            <span class="stat-change negative">-3% this week</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-bell"></i>
                        </div>
                        <div class="stat-content">
                            <h3>23</h3>
                            <p>Active Alerts</p>
                            <span class="stat-change neutral">No change</span>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="activity-panel">
                    <h2>Recent Activity</h2>
                    <div class="activity-list">
                        <div class="activity-item">
                            <i class="fas fa-user-plus"></i>
                            <div class="activity-content">
                                <p><strong>Rajesh Kumar</strong> registered as new farmer</p>
                                <span class="activity-time">2 minutes ago</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <i class="fas fa-question"></i>
                            <div class="activity-content">
                                <p><strong>Priya Sharma</strong> asked about pest control</p>
                                <span class="activity-time">5 minutes ago</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <i class="fas fa-warning"></i>
                            <div class="activity-content">
                                <p>New weather alert issued for Maharashtra</p>
                                <span class="activity-time">10 minutes ago</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Query Management Section -->
            <section id="queries" class="dashboard-section">
                <div class="section-header">
                    <h2>Query Management</h2>
                    <div class="section-actions">
                        <input type="text" placeholder="Search queries..." class="search-input">
                        <select class="filter-select">
                            <option value="all">All Status</option>
                            <option value="answered">Answered</option>
                            <option value="escalated">Escalated</option>
                            <option value="pending">Pending</option>
                        </select>
                    </div>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Farmer Name</th>
                                <th>Query Text</th>
                                <th>Date</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="queries-table-body">
                            <!-- Query rows will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Alerts Management Section -->
            <section id="alerts" class="dashboard-section">
                <div class="section-header">
                    <h2>Alerts Management</h2>
                    <button class="btn btn-primary" onclick="openCreateAlertModal()">
                        <i class="fas fa-plus"></i> Create Alert
                    </button>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Alert Title</th>
                                <th>Type</th>
                                <th>Region</th>
                                <th>Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="alerts-table-body">
                            <!-- Alert rows will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Knowledge Content Management Section -->
            <section id="content" class="dashboard-section">
                <div class="section-header">
                    <h2>Knowledge Content Management</h2>
                </div>
                <div class="content-management-grid">
                    <div class="content-card" onclick="openContentModal('crops')">
                        <div class="content-icon">
                            <i class="fas fa-seedling"></i>
                        </div>
                        <h3>Manage Crops</h3>
                        <p>Add, edit, or delete crop information and growing guides</p>
                        <div class="content-stats">
                            <span>142 Crop Types</span>
                        </div>
                    </div>
                    <div class="content-card" onclick="openContentModal('pests')">
                        <div class="content-icon">
                            <i class="fas fa-bug"></i>
                        </div>
                        <h3>Manage Pests</h3>
                        <p>Update pest identification and treatment information</p>
                        <div class="content-stats">
                            <span>89 Pest Profiles</span>
                        </div>
                    </div>
                    <div class="content-card" onclick="openContentModal('schemes')">
                        <div class="content-icon">
                            <i class="fas fa-file-text"></i>
                        </div>
                        <h3>Manage Schemes</h3>
                        <p>Maintain government schemes and subsidy information</p>
                        <div class="content-stats">
                            <span>67 Active Schemes</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- User Management Section -->
            <section id="users" class="dashboard-section">
                <div class="section-header">
                    <h2>User Management</h2>
                    <div class="section-actions">
                        <input type="text" placeholder="Search users..." class="search-input">
                        <select class="filter-select">
                            <option value="all">All Languages</option>
                            <option value="english">English</option>
                            <option value="hindi">Hindi</option>
                            <option value="malayalam">Malayalam</option>
                        </select>
                    </div>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Phone</th>
                                <th>Location</th>
                                <th>Language</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="users-table-body">
                            <!-- User rows will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Feedback Management Section -->
            <section id="feedback" class="dashboard-section">
                <div class="section-header">
                    <h2>Feedback Management</h2>
                    <div class="section-actions">
                        <select class="filter-select">
                            <option value="all">All Ratings</option>
                            <option value="5">5 Stars</option>
                            <option value="4">4 Stars</option>
                            <option value="3">3 Stars</option>
                            <option value="2">2 Stars</option>
                            <option value="1">1 Star</option>
                        </select>
                    </div>
                </div>
                <div class="feedback-grid">
                    <div id="feedback-container">
                        <!-- Feedback items will be populated by JavaScript -->
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modals -->
    <!-- Query Response Modal -->
    <div id="query-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Query Details & Response</h3>
                <span class="close" onclick="closeModal('query-modal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="query-details">
                    <p><strong>Farmer:</strong> <span id="query-farmer"></span></p>
                    <p><strong>Date:</strong> <span id="query-date"></span></p>
                    <p><strong>Query:</strong></p>
                    <div id="query-text" class="query-text"></div>
                    <div class="response-section">
                        <label for="response-text">AI Response:</label>
                        <textarea id="response-text" rows="5" placeholder="AI-generated response will appear here..."></textarea>
                        <div class="response-actions">
                            <button class="btn btn-secondary">Edit Response</button>
                            <button class="btn btn-primary">Send Response</button>
                            <button class="btn btn-warning">Escalate to Expert</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Content Management Modal -->
    <div id="content-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="content-modal-title">Manage Content</h3>
                <span class="close" onclick="closeModal('content-modal')">&times;</span>
            </div>
            <div class="modal-body">
                <div id="content-modal-body">
                    <!-- Content will be populated based on type -->
                </div>
            </div>
        </div>
    </div>

    <!-- Create Alert Modal -->
    <div id="create-alert-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create New Alert</h3>
                <span class="close" onclick="closeModal('create-alert-modal')">&times;</span>
            </div>
            <div class="modal-body">
                <form id="create-alert-form">
                    <div class="form-group">
                        <label for="alert-title">Alert Title</label>
                        <input type="text" id="alert-title" required>
                    </div>
                    <div class="form-group">
                        <label for="alert-type">Alert Type</label>
                        <select id="alert-type" required>
                            <option value="">Select Type</option>
                            <option value="pest">Pest Alert</option>
                            <option value="weather">Weather Alert</option>
                            <option value="scheme">Scheme Alert</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="alert-region">Region</label>
                        <input type="text" id="alert-region" required>
                    </div>
                    <div class="form-group">
                        <label for="alert-description">Description</label>
                        <textarea id="alert-description" rows="4" required></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeModal('create-alert-modal')">Cancel</button>
                        <button type="submit" class="btn btn-primary">Create Alert</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>